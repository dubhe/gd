!function(t){function e(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){t.exports=a(4)},,,,function(t,e){"use strict";var a=React.createClass({displayName:"Post",render:function(){return React.createElement("div",null,React.createElement("p",null," ",React.createElement("h2",null," ",React.createElement("a",{href:"/article?article="+this.props.title}," ",this.props.title," "))),React.createElement("p",{"class":"info"},"作者： ",React.createElement("a",{href:"/articlelist?author="+this.props.title}," ",this.props.name," ")," | 日期： ",this.props.time))}}),n=React.createClass({displayName:"Nav",getInitialState:function(){return{cur:1}},render:function(){for(var t=[],e=this.props,a=e.pagesize,n=void 0===a?20:a,s=(e.pageno,e.count),i=void 0===s?0:s,r=Math.ceil(i/n),o=1;o<=r;o++)t.push(React.createElement("span",{style:this.state.cur==o?{color:"gray"}:{},onClick:this.onBtnClick},o));return React.createElement("p",null,t)},onBtnClick:function(t){var e=parseInt(t.target.innerHTML);this.setState({cur:e}),this.props.onPageChange&&this.props.onPageChange(e)}}),s=React.createClass({displayName:"PostList",getInitialState:function(){return{cur:1,loading:!1,posts:[],count:0}},componentDidMount:function(){this.loadData(1)},render:function(){if(this.state.loading)return React.createElement("div",null,"正在加载……",React.createElement(n,{count:this.state.count,pagesize:this.props.pagesize,onPageChange:this.onPageChange}));for(var t=[],e=0;e<this.state.posts.length;e++)t.push(React.createElement(a,{title:this.state.posts[e].title,name:this.state.posts[e].name,time:this.state.posts[e].time.minute}));return React.createElement("div",null,t,React.createElement(n,{count:this.state.count,pagesize:this.props.pagesize,onPageChange:this.onPageChange}))},onPageChange:function(t){this.loadData(t)},loadData:function(t){var e=this;e.setState({loading:!0});var a=this.props.pagesize||20;$.get("/node/getPage",{pageno:t,pagesize:a},function(a,n){"success"==n&&e.setState({cur:t,posts:a.posts,count:a.count,loading:!1})})}});ReactDOM.render(React.createElement(s,{pagesize:5}),document.getElementById("list"))}]);
//# sourceMappingURL=list.js.map